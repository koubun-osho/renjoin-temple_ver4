# 蓮城院公式サイト 不具合管理表【MVP版】

## 管理ルール

### セキュリティ優先方針
**セキュリティに関わる不具合は最優先で対応する**

### 重要度レベル
- 🔴 **Critical**: セキュリティ脆弱性・サイト全体停止
- 🟠 **High**: MVP機能の不具合・ユーザー体験への大きな影響
- 🟡 **Medium**: 表示崩れ・パフォーマンス問題
- 🟢 **Low**: 軽微な問題・改善要望

### ステータス
- **新規**: 報告された直後
- **確認中**: 再現確認中・調査中
- **対応中**: 修正作業中
- **テスト中**: 修正後のテスト中
- **完了**: 修正確認済み・リリース済み
- **保留**: Phase 2以降で対応
- **却下**: 不具合ではない・対応しない

### 対応優先度
- **P0**: 即時対応（当日中） - セキュリティ・Critical
- **P1**: 緊急対応（1-2日以内） - High重要度
- **P2**: 通常対応（1週間以内） - Medium重要度  
- **P3**: Phase 2以降対応 - Low重要度・機能拡張

---

## 不具合一覧

### Phase 0: 基盤構築フェーズ

| ID | 報告日 | カテゴリ | 重要度 | 優先度 | 概要 | 詳細 | 再現手順 | 環境 | ステータス | 担当者 | 対応日 | 備考 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
| SEC-001 | 2025/01/13 | セキュリティ | 🔴 | P0 | .env.localがGitにコミット | 機密情報がリポジトリに含まれる | 1. git log確認<br>2. .env.localファイルを検索 | 開発環境 | 完了 | Dev-A | 2025/01/13 | .gitignore追加・履歴削除済 |
| SEC-002 | 2025/01/14 | セキュリティ | 🔴 | P0 | Sanity APIキーがハードコード | ソースコード内にAPIキーが記述 | ソースコード全検索 | 開発環境 | 完了 | Dev-A | 2025/01/14 | 環境変数に移動済 |
| ENV-001 | 2025/01/15 | インフラ | 🟠 | P1 | Vercel環境変数未設定 | 本番デプロイでエラー発生 | 1. Vercelでデプロイ<br>2. ログ確認 | Vercel | 完了 | Dev-B | 2025/01/15 | 環境変数設定済 |

### Phase 1: CMS構築フェーズ

| ID | 報告日 | カテゴリ | 重要度 | 優先度 | 概要 | 詳細 | 再現手順 | 環境 | ステータス | 担当者 | 対応日 | 備考 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
| CMS-001 | 2025/01/20 | 機能 | 🟠 | P1 | Sanityスキーマエラー | ブログスキーマでバリデーション失敗 | 1. Sanity Studio起動<br>2. ブログ記事作成 | Sanity | 完了 | Dev-A | 2025/01/20 | スキーマ修正済 |
| CMS-002 | 2025/01/21 | データ | 🟡 | P2 | 画像アップロードが遅い | 大きな画像ファイルの処理時間 | 大容量画像をアップロード | Sanity | 新規 | - | - | 画像圧縮機能検討 |

### Phase 2: ブログ機能フェーズ

| ID | 報告日 | カテゴリ | 重要度 | 優先度 | 概要 | 詳細 | 再現手順 | 環境 | ステータス | 担当者 | 対応日 | 備考 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
| XSS-001 | 2025/01/25 | セキュリティ | 🔴 | P0 | XSS脆弱性発見 | ブログ本文でスクリプト実行可能 | 1. 記事にscriptタグ挿入<br>2. 記事表示 | 本番 | 対応中 | Dev-A | - | DOMPurify実装中 |
| UI-001 | 2025/01/26 | 表示 | 🟡 | P2 | モバイルでカード表示崩れ | ブログカードが画面からはみ出る | スマホでブログ一覧表示 | iPhone | 新規 | - | - | レスポンシブ調整必要 |
| PERF-001 | 2025/01/27 | パフォーマンス | 🟡 | P2 | ブログ一覧の読み込み遅延 | 大量記事でページネーション重い | 記事20件以上でテスト | 全環境 | 確認中 | Dev-B | - | 仮想スクロール検討 |

### テストフェーズ

| ID | 報告日 | カテゴリ | 重要度 | 優先度 | 概要 | 詳細 | 再現手順 | 環境 | ステータス | 担当者 | 対応日 | 備考 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
| BUG-006 | 2025/01/20 | レスポンシブ | 🟡 | P2 | スマホで横スクロール発生 | お知らせ詳細ページで画像がはみ出る | 1. スマホでお知らせ詳細<br>2. 横スクロール確認 | iPhone/Safari | テスト中 | Dev-C | 2025/01/21 | max-width設定済み |
| BUG-007 | 2025/01/20 | SEO | 🟢 | P3 | メタディスクリプション重複 | 複数ページで同じ説明文 | ソース確認 | - | 完了 | Dev-B | 2025/01/21 | 各ページ個別設定済み |
| BUG-008 | 2025/01/21 | アクセシビリティ | 🟡 | P2 | タブ操作でモーダルが閉じない | ESCキーが効かない | 1. モーダルを開く<br>2. ESCキー押下 | 全環境 | 対応中 | Dev-A | - | キーイベント追加 |
| BUG-009 | 2025/01/22 | 機能 | 🟠 | P1 | 検索結果が0件 | 日本語検索が機能しない | 検索ボックスに日本語入力 | 全環境 | 確認中 | Dev-C | - | エンコーディング問題か |
| BUG-010 | 2025/01/22 | 表示 | 🟢 | P3 | アイコンフォントが□になる | 一部環境でアイコン表示されず | ページリロード | IE11 | 保留 | - | - | IE11サポート外 |

### 本番運用フェーズ

| ID | 報告日 | カテゴリ | 重要度 | 優先度 | 概要 | 詳細 | 再現手順 | 環境 | ステータス | 担当者 | 対応日 | 備考 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
| BUG-011 | 2025/02/01 | サーバー | 🔴 | P0 | 503エラー頻発 | アクセス集中時にダウン | 同時アクセス50以上 | 本番 | 完了 | Dev-A | 2025/02/01 | サーバースペック増強 |
| BUG-012 | 2025/02/03 | データ | 🟠 | P1 | 行事が二重登録される | 送信ボタン連打で重複 | 1. 行事申込フォーム<br>2. 連続クリック | 本番 | 完了 | Dev-B | 2025/02/04 | 二重送信防止実装 |
| BUG-013 | 2025/02/05 | 表示 | 🟢 | P3 | 印刷時レイアウト崩れ | プリントCSSが未設定 | ブラウザから印刷 | 全環境 | 新規 | - | - | 印刷用CSS作成予定 |
| BUG-014 | 2025/02/10 | セキュリティ | 🟠 | P1 | XSS脆弱性の可能性 | お知らせ投稿でスクリプト実行 | 管理画面でHTMLタグ入力 | 本番 | 対応中 | Dev-A | - | サニタイズ処理追加 |
| BUG-015 | 2025/02/15 | 機能 | 🟡 | P2 | メール通知が届かない | Gmail宛てがスパム判定 | お問い合わせ送信 | Gmail | 確認中 | Dev-C | - | SPF/DKIM設定確認 |

---

## 不具合統計

### カテゴリ別集計
| カテゴリ | 件数 | 割合 |
|---|---|---|
| 機能 | 5 | 33.3% |
| 表示 | 3 | 20.0% |
| レイアウト | 1 | 6.7% |
| レスポンシブ | 1 | 6.7% |
| パフォーマンス | 1 | 6.7% |
| SEO | 1 | 6.7% |
| アクセシビリティ | 1 | 6.7% |
| サーバー | 1 | 6.7% |
| データ | 1 | 6.7% |
| セキュリティ | 1 | 6.7% |

### 重要度別集計
| 重要度 | 件数 | 割合 |
|---|---|---|
| 🔴 Critical | 2 | 13.3% |
| 🟠 High | 3 | 20.0% |
| 🟡 Medium | 5 | 33.3% |
| 🟢 Low | 5 | 33.3% |

### ステータス別集計
| ステータス | 件数 | 割合 |
|---|---|---|
| 新規 | 3 | 20.0% |
| 確認中 | 3 | 20.0% |
| 対応中 | 4 | 26.7% |
| テスト中 | 1 | 6.7% |
| 完了 | 3 | 20.0% |
| 保留 | 1 | 6.7% |
| 却下 | 0 | 0.0% |

---

## 対応履歴

### 2025年2月
- BUG-011: サーバー増強により503エラー解消
- BUG-012: 二重送信防止機能実装
- BUG-014: XSS対策実施中

### 2025年1月
- BUG-007: メタディスクリプション個別設定完了
- BUG-005: カレンダー表示エラー修正
- BUG-004: 画像最適化実施

---

## テンプレート

### 新規不具合報告用

```markdown
| BUG-XXX | YYYY/MM/DD | カテゴリ | 重要度 | 優先度 | 概要 | 詳細 | 再現手順 | 環境 | 新規 | - | - | 備考 |
```

### カテゴリ一覧
- レイアウト
- レスポンシブ
- 機能
- 表示
- パフォーマンス
- SEO
- アクセシビリティ
- サーバー
- データ
- セキュリティ
- その他

### 環境記載例
- OS/ブラウザ: Windows/Chrome, Mac/Safari, iPhone/Safari, Android/Chrome
- デバイス: PC, Tablet, Mobile
- ブラウザバージョン: Chrome 120, Safari 17, Firefox 121

---

## エスカレーションルール【MVP版】

### セキュリティ関連不具合（Critical）
1. 発見次第、即座に全開発作業を中断
2. プロジェクトマネージャーに緊急報告
3. セキュリティ対応チーム結成
4. 30分ごとに進捗報告
5. 必要に応じてサイト一時停止検討

### MVP機能不具合（High）
1. 当日中にチームリーダーに報告
2. 担当者アサイン・対応方針決定
3. 翌営業日までに修正完了
4. 日次で進捗報告

### 表示・パフォーマンス問題（Medium）
1. 週次ミーティングで報告
2. スプリント計画に組み込み
3. Phase内での対応を優先

### 軽微な問題（Low）
1. Phase 2以降での対応を基本とする
2. 月次レビューで優先度再評価
3. ユーザーフィードバックに基づき判断

---

## 備考【MVP版】

### 不具合管理ツール
- **現在**: Markdown管理（シンプル・軽量）
- **Phase 2以降**: GitHub Issues導入検討

### セキュリティ監視
- **リアルタイム**: セキュリティ関連不具合の即時対応
- **定期チェック**: 依存関係の脆弱性スキャン（週次）
- **コードレビュー**: セキュリティ観点での全コードレビュー

### レポート配信（MVP版）
- **週次**: セキュリティ・Critical不具合状況
- **Phase完了時**: 品質サマリー・次Phase課題抽出

### MVP期間の改善方針
- **セキュリティファースト**: 全ての不具合対応でセキュリティを最優先
- **シンプル運用**: 複雑なプロセスは避け、迅速な対応を重視
- **Phase単位管理**: 各Phaseの完了基準を明確にした品質管理

---

## 更新履歴

| 日付 | バージョン | 更新内容 | 更新者 |
|---|---|---|---|
| 2025/01/12 | 2.0.0 | MVP版に全面改訂 | Dev |
| 2025/01/12 | 1.0.0 | 初版作成 | PM |